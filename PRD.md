# ê½ƒë¶€ë¦„ (Kkotbureum) â€” Phase 1 MVP

## Context

ë¶€ì‚° ë¡œì»¬ ê½ƒë°°ë‹¬ ì„œë¹„ìŠ¤ MVP. ëª¨ë‘ì‹¸ì¸ ì´ˆê¸° ë©¤ë²„ë¡œ PMF â†’ ARR 120ì–µ ë‹¬ì„±ì„ ê²½í—˜í•œ ì°½ì—…ìê°€, ê°€ì¡±/ë™ë£Œ ë„¤íŠ¸ì›Œí¬(í¼í¬ë¨¼ìŠ¤ ë§ˆì¼€í„° ì•„ë‚´, ê½ƒì‚¬ì—… ê²½í—˜ ë””ìì´ë„ˆ, í’€ìŠ¤íƒ ê°œë°œì í˜•, ë¶€ì‚° ê½ƒì§‘ 3ê³³)ë¥¼ í™œìš©í•˜ì—¬ "ë¶€ì‚° ìµœì´ˆì˜ ë””ì§€í„¸ ë„¤ì´í‹°ë¸Œ ê½ƒ ë¸Œëœë“œ"ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ëª©í‘œ.

> "ê½ƒ + ë¶€ë¦„" = ê½ƒì„ ë¶€ë¥´ë‹¤(ì£¼ë¬¸í•˜ë‹¤). ì‹¬ë¶€ë¦„ ì˜¤ë§ˆì£¼ â€” ë¶€ë¥´ë©´ ì˜¤ëŠ” ë‹¹ì¼ ë°°ë‹¬.

ì „êµ­ ìœ„íƒ íŒë§¤ ì‹œì¥ì€ 3,000ê°œ+ ì—…ì²´ê°€ ê²½ìŸ ì¤‘ì´ê³  í‚¤ì›Œë“œ CPCê°€ ê±´ë‹¹ 2,000~10,000ì›ìœ¼ë¡œ ë¹„í˜„ì‹¤ì . ë°˜ë©´ ë¶€ì‚° ë¡œì»¬ ê½ƒë°°ë‹¬ì˜ ë””ì§€í„¸ ë§ˆì¼€íŒ…/UXëŠ” ê±°ì˜ ë¹„ì–´ìˆì–´ (ì¸ìŠ¤íƒ€ 1ë“±ì´ 5,390 íŒ”ë¡œì›Œ), ì—¬ê¸°ì„œ í¬ì§€ì…”ë‹.

## í˜„ì¬ ìƒíƒœ

> **Phase 1 MVP ë°°í¬ ì™„ë£Œ** (Sprint 1~3 + ì¸í”„ë¼ ì…‹ì—…).
> - í”„ë¡œë•ì…˜: https://kkotbureum.vercel.app/
> - GitHub: https://github.com/Daniel-Ko-Busan/kkotbureum (master)
> - Supabase ì—°ë™ ì™„ë£Œ (ì¹´í…Œê³ ë¦¬ 6, ìƒí’ˆ 12, ì£¼ë¬¸ ìƒ˜í”Œ 18ê±´, ê´€ë¦¬ì 1ëª…)
> - ë¯¸ì—°ê²°: PortOne ì‹¤ê²°ì œ, Anthropic API, Aligo SMS

---

## ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸: 3-Track ì „ëµ

### Track 1: D2C â€” ëª©ì  ê¸°ë°˜ ê½ƒ ì£¼ë¬¸ í”Œë«í¼ (ë©”ì¸) âœ… MVP ì™„ì„±
- ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ ì›¹ì‚¬ì´íŠ¸ (í† ìŠ¤ì‹ UX)
- ê°ì •/ëª©ì  ê¸°ë°˜ íë ˆì´ì…˜ + AI ì¹´ë“œ ë©”ì‹œì§€ ì¶”ì²œ
- ë¶€ì‚° ë‹¹ì¼ ë°°ì†¡ (3ì‹œê°„ ë‚´)
- "ë¯¸ì…˜" ì½˜ì…‰íŠ¸ëŠ” ìƒí’ˆ ì¹´í…Œê³ ë¦¬ì˜ ìœ„íŠ¸ ìš”ì†Œë¡œ í™œìš©

### Track 2: êµ¬ë… â€” ì •ê¸° ê½ƒ ë°°ë‹¬ (ë°˜ë³µ ë§¤ì¶œ) â¬œ í›„ìˆœìœ„
- ì£¼ 1~2íšŒ ê°€ì •/ì‚¬ë¬´ì‹¤ ê½ƒ ë°°ë‹¬ (ê±´ë‹¹ 15,000~25,000ì›)
- ì§„ì…ì : "í™”ë³‘ + ì²« ê½ƒ ì„¸íŠ¸" â†’ ë§¤ì£¼ ê½ƒ êµ¬ë…
- ì—ì½”ë¸íƒ€ì‹œí‹° ì‹ ë„ì‹œ ì…ì£¼ë¯¼ = ì´ìƒì  ì´ˆê¸° íƒ€ê²Ÿ
- **ì§„ì… ì¡°ê±´**: D2C ìœ ë£Œ ì£¼ë¬¸ 30ê±´ ë‹¬ì„± í›„ ê²€í† 

### Track 3: B2B â€” ë²•ì¸ ê½ƒ ì„œë¹„ìŠ¤ (ì•ˆì • ë§¤ì¶œ) â¬œ í›„ìˆœìœ„
- ë¶€ì‚° í˜¸í…”, ë ˆìŠ¤í† ë‘, ì‚¬ë¬´ì‹¤, ì›¨ë”©í™€ ì •ê¸° ê³„ì•½
- ëª¨ë‘ì‹¸ì¸ B2B ì˜ì—… ê²½í—˜ ì§ì ‘ ì ìš©
- **ì§„ì… ì¡°ê±´**: D2Cë¡œ ìš´ì˜ í”„ë¡œì„¸ìŠ¤ ê²€ì¦ í›„

### ë¯¸ë˜ í™•ì¥ ë¹„ì „: ë¡œì»¬ ê½ƒì§‘ í”Œë«í¼ (Phase 3+)
- ë¶€ì‚° ë‹¤ë¥¸ ê½ƒì§‘ë“¤ì— í”Œë«í¼ ê°œë°©
- êµ¬ë…/B2B ì£¼ë¬¸ì„ íŒŒíŠ¸ë„ˆ ê½ƒì§‘ì— ë¶„ë°° â†’ ë¹„ìˆ˜ê¸° í˜„ê¸ˆíë¦„ ì•ˆì •í™”

## íŒ€ êµ¬ì„±

| ì—­í•  | ë‹´ë‹¹ | í•µì‹¬ ì—­ëŸ‰ |
|------|------|----------|
| CEO/ìš´ì˜ | ë³¸ì¸ | ëª¨ë‘ì‹¸ì¸ PMFâ†’ARR120ì–µ (ìš´ì˜/ë§ˆì¼€íŒ…/ì˜ì—…/CS/ë°ì´í„° 8ë…„) |
| í¼í¬ë¨¼ìŠ¤ ë§ˆì¼€íŒ… | ì•„ë‚´ | í¼í¬ë¨¼ìŠ¤ ë§ˆì¼€íŒ… ì „ë¬¸ (ëª¨ë‘ì‹¸ì¸ ê²½ë ¥) |
| ë””ìì¸ | ëª¨ë‘ì‹¸ì¸ ë™ë£Œ | ë””ìì´ë„ˆ + ì˜¨ë¼ì¸ ê½ƒì‚¬ì—… ê²½í—˜ |
| ê°œë°œ | í˜• | í’€ìŠ¤íƒ ê°œë°œì (ERP ì „ë¬¸) |
| ê½ƒ ê³µê¸‰ 1 | ì—¬ë™ìƒ | ì—ì½”ë¸íƒ€ì‹œí‹° ìœ ì¼ ê½ƒì§‘ (ë¶€ì‚° ê°•ì„œêµ¬) |
| ê½ƒ ê³µê¸‰ 2 | ì—¬ë™ìƒ ì§€ì¸ | ë¶€ì‚° ì‚¬ì§ ê½ƒì§‘ 2ê³³ (ì¼ë°˜ + ë¬´ì¸) |

## ê³µê¸‰ ì»¤ë²„ë¦¬ì§€

```
ë¶€ì‚° ê°•ì„œêµ¬ (ì„œë¶€)              ë¶€ì‚° ì‚¬ì§ (ì¤‘ë™ë¶€)
ì—ì½”ë¸íƒ€ì‹œí‹° [ì—¬ë™ìƒ]           ì‚¬ì§ ê½ƒì§‘ 1 [ì—¬ë™ìƒ ì§€ì¸] (ì¼ë°˜)
                               ì‚¬ì§ ê½ƒì§‘ 2 [ì—¬ë™ìƒ ì§€ì¸] (ë¬´ì¸)

â†’ ë¶€ì‚° ì„œë¶€ + ì¤‘ë™ë¶€ ì»¤ë²„. í•´ìš´ëŒ€/ì„œë©´ì€ ì¶”í›„ íŒŒíŠ¸ë„ˆ í™•ì¥.
```

## ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­ | ì„ íƒ | ì›” ë¹„ìš© (MVP) |
|------|------|--------------|
| í”„ë¡ íŠ¸ì—”ë“œ/í˜¸ìŠ¤íŒ… | Next.js 16 (App Router, Turbopack) + Vercel Pro | $20 |
| DB + ì¸ì¦ + ìŠ¤í† ë¦¬ì§€ | Supabase (Free â†’ Pro) | $0~25 |
| ê²°ì œ | PortOne v0.1.3 + í† ìŠ¤í˜ì´ë¨¼ì¸  | ê±°ë˜ ìˆ˜ìˆ˜ë£Œ ~3.4% |
| AI ì¹´ë“œ ë©”ì‹œì§€ | Vercel AI SDK + Claude Sonnet API | $3~10 |
| SMS ì•Œë¦¼ | Aligo (LMS ìë™ ì „í™˜) | $3~10 |
| ìŠ¤íƒ€ì¼ë§ | Tailwind CSS v4 + Pretendard | â€” |
| **í•©ê³„** | | **ì›” $26~65 (ì•½ 3.5~9ë§Œ ì›)** |

---

## Phase 1 êµ¬í˜„ ìƒíƒœ

### í”„ë¡œì íŠ¸ êµ¬ì¡° (í˜„ì¬)

```
kkotbureum/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx                  # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (SEO ë©”íƒ€, Pretendard)
â”‚   â”‚   â”œâ”€â”€ page.tsx                    # í™ˆ (ì¹´ìš´íŠ¸ë‹¤ìš´, ë¯¸ì…˜, ì¶”ì²œìƒí’ˆ, JSON-LD)
â”‚   â”‚   â”œâ”€â”€ globals.css                 # Tailwind v4 ë””ìì¸ í† í° (@theme inline)
â”‚   â”‚   â”œâ”€â”€ CountdownTimer.tsx          # ë‹¹ì¼ë°°ì†¡ ì¹´ìš´íŠ¸ë‹¤ìš´ (ì ‘ê·¼ì„± í¬í•¨)
â”‚   â”‚   â”œâ”€â”€ robots.ts                   # SEO: robots.txt
â”‚   â”‚   â”œâ”€â”€ sitemap.ts                  # SEO: sitemap.xml (ë™ì  ìƒì„±)
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (storefront)/              # ê³ ê° í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx             # Header + BottomNav + ì¡°ê±´ë¶€ íŒ¨ë”©
â”‚   â”‚   â”‚   â”œâ”€â”€ missions/page.tsx      # ë¯¸ì…˜ ì¹´í…Œê³ ë¦¬ ëª©ë¡ (6ê°€ì§€ + í”Œë¡œë¦¬ìŠ¤íŠ¸ ë§¡ê¸°ê¸°)
â”‚   â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # ìƒí’ˆ ëª©ë¡ (ë¯¸ì…˜ í•„í„°)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/             # ìƒí’ˆ ìƒì„¸ (OG ë©”íƒ€, ì´ë¯¸ì§€ ìŠ¤ì¼ˆë ˆí†¤)
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ ProductDetailClient.tsx
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ProductBackButton.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ order/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx         # ì£¼ë¬¸ ì „ìš© ë ˆì´ì•„ì›ƒ + StepIndicator
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # Step 1: ë°›ëŠ” ë¶„ (ë‹¤ìŒ ì£¼ì†Œ API)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ message/page.tsx   # Step 2: ì¹´ë“œ ë©”ì‹œì§€ (AI ì¶”ì²œ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ payment/page.tsx   # Step 3: ê²°ì œ (ì•½ê´€ ë™ì˜)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ complete/          # ì£¼ë¬¸ ì™„ë£Œ (ì£¼ë¬¸ë²ˆí˜¸ ë³µì‚¬)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ lookup/page.tsx    # ì£¼ë¬¸ ì¡°íšŒ (ìƒíƒœ ì§„í–‰ë°”, ì·¨ì†Œ)
â”‚   â”‚   â”‚   â”œâ”€â”€ privacy/page.tsx       # ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨
â”‚   â”‚   â”‚   â””â”€â”€ terms/page.tsx         # ì´ìš©ì•½ê´€
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ admin/                     # ê´€ë¦¬ì
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx             # AdminSidebar + AdminMobileNav
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx               # ëŒ€ì‹œë³´ë“œ (ì£¼ë¬¸/ë§¤ì¶œ/ì ‘ìˆ˜ëŒ€ê¸°/ì²˜ë¦¬ì¤‘)
â”‚   â”‚   â”‚   â”œâ”€â”€ login/page.tsx         # Supabase Auth ë¡œê·¸ì¸
â”‚   â”‚   â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # ì£¼ë¬¸ ëª©ë¡ (ìƒíƒœ í•„í„°)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderSearch.tsx    # ê²€ìƒ‰ (ì´ë¦„/ì „í™”/ì£¼ë¬¸ë²ˆí˜¸)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx       # ì£¼ë¬¸ ìƒì„¸
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ OrderStatusActions.tsx  # ìƒíƒœ ë³€ê²½ (í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸)
â”‚   â”‚   â”‚   â””â”€â”€ products/
â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx           # ìƒí’ˆ ëª©ë¡
â”‚   â”‚   â”‚       â””â”€â”€ new/page.tsx       # ìƒí’ˆ ì¶”ê°€/ìˆ˜ì • (ë‹¤ì¤‘ ì´ë¯¸ì§€)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ chat/route.ts               # AI ì¹´ë“œ ë©”ì‹œì§€ (ë¹„ìŠ¤íŠ¸ë¦¬ë°, 3ê°€ì§€ í†¤)
â”‚   â”‚       â”œâ”€â”€ orders/route.ts             # POST: ì£¼ë¬¸ ìƒì„± (Zod + ê°€ê²© ê²€ì¦)
â”‚   â”‚       â”œâ”€â”€ orders/lookup/route.ts      # GET: ì£¼ë¬¸ ì¡°íšŒ (ë²ˆí˜¸+ì „í™”)
â”‚   â”‚       â”œâ”€â”€ orders/[id]/status/route.ts # PATCH: ìƒíƒœ ë³€ê²½ + SMS 5ì¢…
â”‚   â”‚       â”œâ”€â”€ orders/[id]/cancel/route.ts # POST: ê³ ê° ì·¨ì†Œ (ì „í™” ê²€ì¦)
â”‚   â”‚       â”œâ”€â”€ payments/prepare/route.ts   # POST: PortOne ì‚¬ì „ ë“±ë¡
â”‚   â”‚       â”œâ”€â”€ payments/webhook/route.ts   # POST: ê²°ì œ ê²€ì¦ + ì£¼ë¬¸ í™•ì •
â”‚   â”‚       â””â”€â”€ notifications/route.ts      # POST: SMS ë°œì†¡
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/          # Button, Input, Card, Badge, StepIndicator, Toast
â”‚   â”‚   â”œâ”€â”€ layout/      # Header, BottomNav, AdminSidebar, AdminMobileNav
â”‚   â”‚   â”œâ”€â”€ product/     # ProductCard, ProductGrid, ProductImage (ìŠ¤ì¼ˆë ˆí†¤)
â”‚   â”‚   â””â”€â”€ order/       # RecipientForm, MessageComposer, OrderSummary
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/useOrder.ts          # ì£¼ë¬¸ ìƒíƒœ (useReducer + sessionStorage)
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ constants.ts           # ìƒìˆ˜, formatPrice, formatDeliveryDate, formatPhone
â”‚   â”‚   â”œâ”€â”€ demo/data.ts           # ë°ëª¨ ë°ì´í„° (globalThis, ì¹´í…Œê³ ë¦¬6/ìƒí’ˆ8/ì£¼ë¬¸18)
â”‚   â”‚   â”œâ”€â”€ demo/queries.ts        # ë°ëª¨/í”„ë¡œë•ì…˜ ì¶”ìƒí™” ë ˆì´ì–´
â”‚   â”‚   â”œâ”€â”€ supabase/client.ts     # ë¸Œë¼ìš°ì € í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ supabase/server.ts     # ì„œë²„ í´ë¼ì´ì–¸íŠ¸ (Service Role)
â”‚   â”‚   â”œâ”€â”€ portone.ts             # ê²°ì œ í—¬í¼ (ê²€ì¦, ì·¨ì†Œ)
â”‚   â”‚   â””â”€â”€ notifications.ts       # SMS (Aligo) + ë©”ì‹œì§€ í…œí”Œë¦¿ 5ì¢…
â”‚   â”œâ”€â”€ types/index.ts
â”‚   â””â”€â”€ middleware.ts              # /admin ì¸ì¦ ë³´í˜¸ (ë°ëª¨ ëª¨ë“œ ìŠ¤í‚µ)
â”‚
â”œâ”€â”€ vercel.json                    # icn1 ë¦¬ì „, ë³´ì•ˆ í—¤ë”
â”œâ”€â”€ next.config.ts                 # ì´ë¯¸ì§€ íŒ¨í„´, í”„ë¡œë•ì…˜ ìµœì í™”
â”œâ”€â”€ .env.example                   # í™˜ê²½ë³€ìˆ˜ ë¬¸ì„œí™”
â”œâ”€â”€ supabase/migrations/001_initial_schema.sql
â””â”€â”€ package.json
```

### DB ìŠ¤í‚¤ë§ˆ (ì‹¤ì œ êµ¬í˜„)

```sql
-- ENUMS
CREATE TYPE order_status AS ENUM ('pending','confirmed','preparing','delivering','delivered','cancelled');
CREATE TYPE payment_status AS ENUM ('pending','paid','failed','refunded');

-- ë¯¸ì…˜ ì¹´í…Œê³ ë¦¬
CREATE TABLE categories (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  slug TEXT UNIQUE NOT NULL,
  name TEXT NOT NULL,
  description TEXT,
  emoji TEXT,
  display_order INT DEFAULT 0,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- ìƒí’ˆ
CREATE TABLE products (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  category_id UUID REFERENCES categories(id),
  name TEXT NOT NULL,
  description TEXT,
  short_description TEXT,           -- ìƒí’ˆ ì¹´ë“œì— í‘œì‹œ
  price INT NOT NULL,
  sale_price INT,
  images TEXT[] DEFAULT '{}',
  is_active BOOLEAN DEFAULT true,
  is_featured BOOLEAN DEFAULT false,
  flower_types TEXT[],
  size TEXT CHECK (size IN ('S','M','L','XL')),
  display_order INT DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

-- ì£¼ë¬¸ (1ì£¼ë¬¸ = 1ìƒí’ˆ, ìƒí’ˆ ì •ë³´ ì§ì ‘ ìŠ¤ëƒ…ìƒ·)
CREATE TABLE orders (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  order_number TEXT UNIQUE NOT NULL,    -- BU-YYYYMMDD-NNNN (íŠ¸ë¦¬ê±° ìë™ìƒì„±)
  sender_name TEXT NOT NULL,
  sender_phone TEXT NOT NULL,
  recipient_name TEXT NOT NULL,
  recipient_phone TEXT NOT NULL,
  recipient_address TEXT NOT NULL,
  recipient_address_detail TEXT,
  recipient_zipcode TEXT,
  product_id UUID REFERENCES products(id),
  product_name TEXT NOT NULL,
  product_price INT NOT NULL,
  quantity INT DEFAULT 1,
  status order_status DEFAULT 'pending',
  card_message TEXT,
  delivery_date DATE NOT NULL,
  delivery_time_slot TEXT DEFAULT 'anytime',
  special_instructions TEXT,
  subtotal INT NOT NULL,
  delivery_fee INT DEFAULT 0,
  total_amount INT NOT NULL,
  payment_status payment_status DEFAULT 'pending',
  payment_id TEXT,
  paid_at TIMESTAMPTZ,
  partner_shop TEXT,
  cancelled_at TIMESTAMPTZ,
  cancel_reason TEXT,
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

-- ì£¼ë¬¸ ìƒíƒœ ì´ë ¥
CREATE TABLE order_status_history (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  order_id UUID NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
  status order_status NOT NULL,
  note TEXT,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- ì•Œë¦¼ ë¡œê·¸
CREATE TABLE notifications (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  order_id UUID REFERENCES orders(id),
  recipient_phone TEXT NOT NULL,
  type TEXT NOT NULL CHECK (type IN ('sms','kakao')),
  template TEXT NOT NULL,
  content TEXT NOT NULL,
  status TEXT DEFAULT 'pending' CHECK (status IN ('pending','sent','failed')),
  sent_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- ê´€ë¦¬ì
CREATE TABLE admin_users (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  auth_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  name TEXT NOT NULL,
  phone TEXT NOT NULL,
  role TEXT DEFAULT 'admin',
  created_at TIMESTAMPTZ DEFAULT now()
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_products_category ON products(category_id) WHERE is_active = true;
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_orders_created ON orders(created_at DESC);
CREATE INDEX idx_orders_delivery_date ON orders(delivery_date);

-- íŠ¸ë¦¬ê±°: ì£¼ë¬¸ë²ˆí˜¸ ìë™ìƒì„±
CREATE OR REPLACE FUNCTION generate_order_number() RETURNS TRIGGER AS $$
DECLARE today_count INT; today_str TEXT;
BEGIN
  today_str := to_char(now(), 'YYYYMMDD');
  SELECT COUNT(*) + 1 INTO today_count FROM orders
    WHERE order_number LIKE 'BU-' || today_str || '-%';
  NEW.order_number := 'BU-' || today_str || '-' || lpad(today_count::TEXT, 4, '0');
  RETURN NEW;
END; $$ LANGUAGE plpgsql;

CREATE TRIGGER set_order_number BEFORE INSERT ON orders
  FOR EACH ROW WHEN (NEW.order_number IS NULL)
  EXECUTE FUNCTION generate_order_number();

-- íŠ¸ë¦¬ê±°: updated_at ìë™ ê°±ì‹ 
CREATE OR REPLACE FUNCTION update_updated_at() RETURNS TRIGGER AS $$
BEGIN NEW.updated_at = now(); RETURN NEW; END; $$ LANGUAGE plpgsql;

CREATE TRIGGER products_updated_at BEFORE UPDATE ON products
  FOR EACH ROW EXECUTE FUNCTION update_updated_at();
CREATE TRIGGER orders_updated_at BEFORE UPDATE ON orders
  FOR EACH ROW EXECUTE FUNCTION update_updated_at();

-- RLS
ALTER TABLE categories ENABLE ROW LEVEL SECURITY;
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
ALTER TABLE orders ENABLE ROW LEVEL SECURITY;
ALTER TABLE order_status_history ENABLE ROW LEVEL SECURITY;
ALTER TABLE notifications ENABLE ROW LEVEL SECURITY;
ALTER TABLE admin_users ENABLE ROW LEVEL SECURITY;

CREATE POLICY "read_active_categories" ON categories FOR SELECT USING (is_active = true);
CREATE POLICY "read_active_products" ON products FOR SELECT USING (is_active = true);
CREATE POLICY "create_orders" ON orders FOR INSERT WITH CHECK (true);
CREATE POLICY "read_orders_by_phone" ON orders FOR SELECT USING (true);  -- API ë ˆë²¨ì—ì„œ ì „í™”ë²ˆí˜¸ ê²€ì¦
CREATE POLICY "admin_categories" ON categories FOR ALL
  USING (EXISTS (SELECT 1 FROM admin_users WHERE auth_id = auth.uid()));
CREATE POLICY "admin_products" ON products FOR ALL
  USING (EXISTS (SELECT 1 FROM admin_users WHERE auth_id = auth.uid()));
CREATE POLICY "admin_orders" ON orders FOR ALL
  USING (EXISTS (SELECT 1 FROM admin_users WHERE auth_id = auth.uid()));
CREATE POLICY "admin_status_history" ON order_status_history FOR ALL
  USING (EXISTS (SELECT 1 FROM admin_users WHERE auth_id = auth.uid()));
CREATE POLICY "admin_notifications" ON notifications FOR ALL
  USING (EXISTS (SELECT 1 FROM admin_users WHERE auth_id = auth.uid()));
CREATE POLICY "admin_self" ON admin_users FOR SELECT
  USING (auth_id = auth.uid());

-- ì‹œë“œ: ë¯¸ì…˜ ì¹´í…Œê³ ë¦¬
INSERT INTO categories (slug, name, description, emoji, display_order) VALUES
  ('emergency', 'ì˜¤ëŠ˜ í°ì¼ë‚¨', 'ìƒì¼, ê¸°ë…ì¼ ê¹œë¹¡í–ˆì„ ë•Œ', 'ğŸš¨', 1),
  ('gratitude', 'ê³ ë§ˆìš´ ì‚¬ëŒ', 'ê°ì‚¬í•œ ë§ˆìŒì„ ê½ƒìœ¼ë¡œ', 'ğŸ™', 2),
  ('just_because', 'ê´œíˆ ë³´ë‚´ë´„', 'ì´ìœ  ì—†ì´, ê·¸ëƒ¥', 'ğŸŒ¸', 3),
  ('celebration', 'ì¶•í•˜í•´ì¤˜ì•¼ í•¨', 'ìŠ¹ì§„, ê°œì—…, í•©ê²©', 'ğŸ‰', 4),
  ('apology', 'ì˜ëª»í–ˆì–´ìš”', 'ë¯¸ì•ˆí•œ ë§ˆìŒì„ ê½ƒìœ¼ë¡œ', 'ğŸ˜¢', 5),
  ('love', 'ì‚¬ë‘í•©ë‹ˆë‹¤', 'ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒì—ê²Œ', 'ğŸ’•', 6);
```

**ì›ë˜ ê¸°íš ëŒ€ë¹„ ë‹¨ìˆœí™”í•œ ê²ƒ:**
- `order_items` í…Œì´ë¸” ì œê±° â†’ 1ì£¼ë¬¸=1ìƒí’ˆ, ordersì— ì§ì ‘ ìŠ¤ëƒ…ìƒ·
- `subscriptions` í…Œì´ë¸” ì œê±° â†’ Track 2 í›„ìˆœìœ„
- `chat_sessions` í…Œì´ë¸” ì œê±° â†’ ì±„íŒ… ì €ì¥ ë¶ˆí•„ìš”
- `sender_auth_id` ì œê±° â†’ ê²ŒìŠ¤íŠ¸ ì£¼ë¬¸ë§Œ (ë¡œê·¸ì¸ ì—†ìŒ)
- `address_collected` ì œê±° â†’ Address-Later ë¯¸êµ¬í˜„, ì£¼ì†Œ í•„ìˆ˜ ì…ë ¥
- `is_subscribable`, `stock_status` ì œê±° â†’ í˜„ì¬ ë¶ˆí•„ìš”

### í•µì‹¬ ê¸°ëŠ¥ ìƒì„¸

#### 1. ì£¼ë¬¸ í”Œë¡œìš° (3ë‹¨ê³„ í† ìŠ¤ì‹) âœ… ì™„ì„±

```
[ìƒí’ˆ ì„ íƒ] â†’ Step 1: ë°›ëŠ” ë¶„ â†’ Step 2: ë©”ì‹œì§€ â†’ Step 3: ê²°ì œ â†’ [ì™„ë£Œ]
```

- Step 1: ë³´ë‚´ëŠ” ë¶„ ì´ë¦„/ì „í™”, ë°›ëŠ” ë¶„ ì´ë¦„/ì „í™”/ì£¼ì†Œ(í•„ìˆ˜), ë°°ì†¡ì¼/ì‹œê°„
- Step 2: ì¹´ë“œ ë©”ì‹œì§€ + "AIê°€ ëŒ€ì‹  ì¨ì¤„ê²Œìš”" â†’ 3ê°€ì§€ ì¶”ì²œ (ì •ì¤‘/ì¹œê·¼/ìœ ë¨¸)
- Step 3: ì£¼ë¬¸ ìš”ì•½ + ì•½ê´€ ë™ì˜ + PortOne ê²°ì œ
- ìƒíƒœ ê´€ë¦¬: `useOrder` í›… (sessionStorage + useReducer)
- Step ê°„ ë°ì´í„° ê²€ì¦: Step2ì—ì„œ Step1 ë¯¸ì…ë ¥ ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- ì£¼ë¬¸ ì™„ë£Œ: ì£¼ë¬¸ë²ˆí˜¸ ë³µì‚¬, í•œêµ­ì–´ ë‚ ì§œ í‘œì‹œ

#### 2. ê²°ì œ (PortOne + í† ìŠ¤í˜ì´ë¨¼ì¸ ) âœ… ì™„ì„±

```
1. POST /api/orders           â†’ ì£¼ë¬¸ ìƒì„± (ìƒí’ˆ ê°€ê²© ì„œë²„ ê²€ì¦)
2. POST /api/payments/prepare  â†’ PortOne ê¸ˆì•¡ ì‚¬ì „ ë“±ë¡
3. PortOne.requestPayment()    â†’ í´ë¼ì´ì–¸íŠ¸ ê²°ì œì°½
4. POST /api/payments/webhook  â†’ ì„œë²„ ê²°ì œ ê²€ì¦ + ì£¼ë¬¸ í™•ì • + SMS
```
- ì§€ì›: ì¹´ë“œ, í† ìŠ¤í˜ì´, ì¹´ì¹´ì˜¤í˜ì´, ë„¤ì´ë²„í˜ì´
- ê²°ì œ ì‹¤íŒ¨ ì‹œ ìœ í˜•ë³„ ë³µêµ¬ ì•ˆë‚´ + ì¬ì‹œë„

#### 3. AI ì¹´ë“œ ë©”ì‹œì§€ âœ… ì™„ì„±

```typescript
// POST /api/chat â€” ë¹„ìŠ¤íŠ¸ë¦¬ë°, 3ê°€ì§€ í†¤ ë°˜í™˜
const result = await generateText({
  model: anthropic('claude-sonnet-4-20250514'),
  prompt: `ìƒí™©: ${situation}\n\nê½ƒ ì¹´ë“œ ë©”ì‹œì§€ 3ê°€ì§€ (ì •ì¤‘/ì¹œê·¼/ìœ ë¨¸), ê° 200ì ì´ë‚´`,
});
```
- ì£¼ë¬¸ Step 2ì—ì„œ ë°”í…€ì‹œíŠ¸ë¡œ í˜¸ì¶œ
- ë°ëª¨ ëª¨ë“œ: ìƒí™©ë³„ 7ê°€ì§€ ë¶„ê¸°ë¡œ í”„ë¦¬ì…‹ ë©”ì‹œì§€ ë°˜í™˜

#### 4. ì·¨ì†Œ/í™˜ë¶ˆ âœ… ì™„ì„±

- ê³ ê° ì·¨ì†Œ: POST /api/orders/[id]/cancel (sender_phone ê²€ì¦)
- ê´€ë¦¬ì ì·¨ì†Œ: PATCH /api/orders/[id]/status (status='cancelled')
- 'pending' ë˜ëŠ” 'confirmed' ìƒíƒœì—ì„œë§Œ ê°€ëŠ¥ ('preparing' ì´í›„ ë¶ˆê°€)
- ê²°ì œ ì™„ë£Œ ì£¼ë¬¸ ì·¨ì†Œ ì‹œ PortOne cancelPayment API ìë™ í˜¸ì¶œ

#### 5. SMS ì•Œë¦¼ âœ… ì™„ì„±

| ì´ë²¤íŠ¸ | ìˆ˜ì‹ ì | í…œí”Œë¦¿ | ìƒíƒœ |
|--------|--------|--------|------|
| ì£¼ë¬¸ í™•ì¸ (confirmed) | ì£¼ë¬¸ì | ì£¼ë¬¸ë²ˆí˜¸ + ìƒí’ˆëª… + ë°›ëŠ” ë¶„ | âœ… |
| ì¤€ë¹„ ì‹œì‘ (preparing) | ì£¼ë¬¸ì | ì£¼ë¬¸ë²ˆí˜¸ + ë°›ëŠ” ë¶„ | âœ… |
| ë°°ì†¡ ì¶œë°œ (delivering) | ì£¼ë¬¸ì | ì£¼ë¬¸ë²ˆí˜¸ + ë°›ëŠ” ë¶„ | âœ… |
| ë°°ì†¡ ì™„ë£Œ (delivered) | ì£¼ë¬¸ì | ì£¼ë¬¸ë²ˆí˜¸ + ë°›ëŠ” ë¶„ | âœ… |
| ì£¼ë¬¸ ì·¨ì†Œ (cancelled) | ì£¼ë¬¸ì | ì£¼ë¬¸ë²ˆí˜¸ + í™˜ë¶ˆ ì•ˆë‚´ | âœ… |

- Aligo API, 90ë°”ì´íŠ¸ ì´ˆê³¼ ì‹œ ìë™ LMS ì „í™˜
- ë°ëª¨ ëª¨ë“œ: ì½˜ì†” ë¡œê·¸ ì¶œë ¥ + ì„±ê³µ ë°˜í™˜

#### 6. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ âœ… ì™„ì„±

- ëŒ€ì‹œë³´ë“œ: ì˜¤ëŠ˜ ì£¼ë¬¸/ë§¤ì¶œ/ì ‘ìˆ˜ëŒ€ê¸°/ì²˜ë¦¬ì¤‘ ì¹´ìš´íŠ¸
- ì£¼ë¬¸ ëª©ë¡: ìƒíƒœë³„ íƒ­ í•„í„° + ê²€ìƒ‰ (ì´ë¦„/ì „í™”/ì£¼ë¬¸ë²ˆí˜¸)
- ì£¼ë¬¸ ìƒì„¸: ì „ì²´ ì •ë³´ + ìƒíƒœ ì´ë ¥ + ìƒíƒœ ë³€ê²½ (í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸)
- ìƒí’ˆ CRUD: ì¶”ê°€/ìˆ˜ì •/ë¹„í™œì„±í™” + ë‹¤ì¤‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ
- ì¸ì¦: Supabase Auth + admin_users í…Œì´ë¸” + middleware ë³´í˜¸

#### 7. SEO âœ… ì™„ì„±

- robots.txt: /admin, /api, /order í¬ë¡¤ë§ ì°¨ë‹¨
- sitemap.xml: ë™ì  ìƒì„± (í™ˆ, ìƒí’ˆ ëª©ë¡, ë¯¸ì…˜, ê°œë³„ ìƒí’ˆ)
- OG/Twitter ë©”íƒ€íƒœê·¸ (ì „ì²´ í˜ì´ì§€)
- JSON-LD êµ¬ì¡°í™” ë°ì´í„° (FloristShop ìŠ¤í‚¤ë§ˆ)
- ìƒí’ˆ ìƒì„¸: ê°œë³„ OG ì´ë¯¸ì§€ + ê°€ê²© í¬í•¨ íƒ€ì´í‹€

### ë””ìì¸ ì‹œìŠ¤í…œ (í† ìŠ¤ì‹)

```
Colors:   Primary #3182F6 | Text #191F28, #4E5968, #8B95A1 | BG #FFF, #F2F4F6
          Success #00C471 | Error #F04452 | Warning #FF9F00
Font:     Pretendard Variable (CDN)
Layout:   ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸, max-width 512px (max-w-lg)
Radius:   ì¹´ë“œ 12px | ë²„íŠ¼ 8px
Shadow:   0 2px 8px rgba(0,0,0,0.08)
```

### íŒ¨í‚¤ì§€ (í˜„ì¬)

```json
{
  "dependencies": {
    "next": "16.1.6", "react": "19.2.3", "react-dom": "19.2.3",
    "@supabase/supabase-js": "^2", "@supabase/ssr": "^0.5",
    "@portone/browser-sdk": "^0.1.3",
    "ai": "^4", "@ai-sdk/anthropic": "^1",
    "date-fns": "^4", "zod": "^3"
  },
  "devDependencies": {
    "typescript": "^5", "tailwindcss": "^4", "supabase": "^2"
  }
}
```

---

## ê°œë°œ ìŠ¤í”„ë¦°íŠ¸ (ì‹¤í–‰ ì™„ë£Œ)

### Sprint 1 (ì™„ë£Œ) â€” ê¸°ë°˜ + ìƒí’ˆ ì „ì‹œ + ì£¼ë¬¸ í”Œë¡œìš°

1. âœ… Next.js í”„ë¡œì íŠ¸ ì´ˆê¸°í™” (TypeScript, Tailwind v4, App Router, Pretendard)
2. âœ… ë°ëª¨ ëª¨ë“œ êµ¬í˜„ (Supabase ì—†ì´ ì „ì²´ UI í…ŒìŠ¤íŠ¸ ê°€ëŠ¥)
3. âœ… í† ìŠ¤ì‹ UI ì»´í¬ë„ŒíŠ¸ (Button, Input, Card, Badge, StepIndicator, Toast)
4. âœ… í™ˆí˜ì´ì§€ (ë‹¹ì¼ë°°ì†¡ ì¹´ìš´íŠ¸ë‹¤ìš´ + ë¯¸ì…˜ ì¹´í…Œê³ ë¦¬ ì¹´ë“œ + ì¶”ì²œ ìƒí’ˆ)
5. âœ… ë¯¸ì…˜ ì¹´í…Œê³ ë¦¬ ëª©ë¡ + ìƒí’ˆ ëª©ë¡/ìƒì„¸ í˜ì´ì§€
6. âœ… ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ (í—¤ë” + í•˜ë‹¨ ë„¤ë¹„ 4íƒ­)
7. âœ… ì£¼ë¬¸ 3ë‹¨ê³„ UI + useOrder í›… (sessionStorage + useReducer)
8. âœ… AI ì¹´ë“œ ë©”ì‹œì§€ ì¶”ì²œ (ì£¼ë¬¸ Step 2, 3ê°€ì§€ í†¤)
9. âœ… ë°ëª¨ ìƒí’ˆ 8ê°œ ë“±ë¡

### Sprint 2 (ì™„ë£Œ) â€” ê²°ì œ + ê´€ë¦¬ì + UX

10. âœ… PortOne ê²°ì œ 4ë‹¨ê³„ (ì£¼ë¬¸ìƒì„±â†’ì‚¬ì „ë“±ë¡â†’ê²°ì œâ†’ê²€ì¦)
11. âœ… ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (ì˜¤ëŠ˜ í˜„í™©)
12. âœ… ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡/ìƒì„¸ + ìƒíƒœ ë³€ê²½ + ê²€ìƒ‰
13. âœ… ê´€ë¦¬ì ìƒí’ˆ CRUD + ë‹¤ì¤‘ ì´ë¯¸ì§€ ì—…ë¡œë“œ
14. âœ… ê³ ê° ì£¼ë¬¸ ì¡°íšŒ í˜ì´ì§€ (/order/lookup)
15. âœ… ê³ ê° ì·¨ì†Œ API + ê´€ë¦¬ì í™˜ë¶ˆ (PortOne cancelPayment)
16. âœ… ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ + ì´ìš©ì•½ê´€ + ì•½ê´€ ë™ì˜ ì²´í¬ë°•ìŠ¤
17. âœ… UX ê°œì„  15ê±´ (ë‚ ì§œ í¬ë§·, ìƒíƒœ í™•ì¸, ê²€ìƒ‰, ì ‘ê·¼ì„± ë“±)
18. âœ… ë°ëª¨ ëª¨ë“œ ê°•í™” (globalThis ìƒíƒœ ìœ ì§€, ì£¼ë¬¸ 18ê±´)

### Sprint 3 (ì™„ë£Œ) â€” ì•Œë¦¼ + SEO + ë°°í¬ ì¤€ë¹„

19. âœ… SMS ì•Œë¦¼ 5ì¢… (Aligo, ëª¨ë“  ìƒíƒœ ì „í™˜ ì‹œ ë°œì†¡)
20. âœ… SEO (robots.txt, sitemap.xml, JSON-LD, OG/Twitter ë©”íƒ€)
21. âœ… Vercel ë°°í¬ ì„¤ì • (vercel.json, ë³´ì•ˆ í—¤ë”, icn1 ë¦¬ì „)
22. âœ… í”„ë¡œë•ì…˜ ìµœì í™” (ì†ŒìŠ¤ë§µ off, poweredBy off)
23. âœ… í™˜ê²½ë³€ìˆ˜ ë¬¸ì„œí™” (.env.example)
24. âœ… A-to-Z í”Œë¡œìš° í…ŒìŠ¤íŠ¸ (ì „ì²´ 26ê°œ ë¼ìš°íŠ¸ ê²€ì¦)

---

## ë°°í¬ ë° ì‚¬ì „ ì¤€ë¹„ ìƒíƒœ

- [x] Supabase í”„ë¡œì íŠ¸ ìƒì„± + ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ + RLS ì ìš©
- [x] Vercel ë°°í¬ + í™˜ê²½ë³€ìˆ˜ ì„¤ì • (SUPABASE URL/ANON_KEY/SERVICE_ROLE_KEY)
- [x] GitHub ë ˆí¬ ìƒì„± + Vercel ìë™ ë°°í¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- [x] ê´€ë¦¬ì ê³„ì • ìƒì„± (Supabase Auth + admin_users)
- [x] ìƒí’ˆ ë°ì´í„° 12ê°œ ë“±ë¡ (6ì¹´í…Œê³ ë¦¬ Ã— 2ê°œ, ë¯¸ì…˜ë³„ ë§ì¶¤)
- [x] ì£¼ë¬¸ ìƒ˜í”Œ 18ê±´ ë“±ë¡ (ìƒíƒœë³„ 3ê±´ + ìƒíƒœ ì´ë ¥)
- [ ] ì‚¬ì—…ìë“±ë¡ (í™ˆíƒìŠ¤)
- [ ] í†µì‹ íŒë§¤ì—… ì‹ ê³  (ì •ë¶€24, 3~7ì¼)
- [ ] PortOne ê°€ì… + í† ìŠ¤í˜ì´ë¨¼ì¸  PG ì—°ë™ (í˜„ì¬ ë°ëª¨ê°’)
- [ ] Anthropic API í‚¤ ë°œê¸‰ (í˜„ì¬ ë°ëª¨ ë©”ì‹œì§€ ì‚¬ìš©)
- [ ] Aligo ê°€ì… + ë°œì‹ ë²ˆí˜¸ ë“±ë¡ (í˜„ì¬ ì½˜ì†” ë¡œê·¸)
- [ ] ë„ë©”ì¸ êµ¬ë§¤ + ì—°ê²° (ì„ íƒ, í˜„ì¬ kkotbureum.vercel.app)
- [ ] ì‹¤ì œ ìƒí’ˆ ì‚¬ì§„ ì´¬ì˜ + ì´ë¯¸ì§€ ì—…ë¡œë“œ (í˜„ì¬ ì´ë¯¸ì§€ ì—†ìŒ, ì´ëª¨ì§€ í´ë°±)
- [ ] ëª¨ë°”ì¼ ì‹¤ê¸°ê¸° í…ŒìŠ¤íŠ¸ (iPhone Safari, Android Chrome)
- [ ] NEXT_PUBLIC_SITE_URLì„ Vercel URLë¡œ ì—…ë°ì´íŠ¸

---

## Phase 2 í›„ë³´ ê¸°ëŠ¥ (ìš°ì„ ìˆœìœ„ ì •ë ¬)

ìœ ë£Œ ì£¼ë¬¸ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ë¥¼ ì¬ê²°ì •. ì•„ë˜ëŠ” í˜„ì¬ í›„ë³´ ëª©ë¡.

### ìš´ì˜ ë°ì´í„° ê¸°ë°˜ ê²°ì •í•  ê²ƒ
| ê¸°ëŠ¥ | íŠ¸ë¦¬ê±° ì¡°ê±´ | ì˜ˆìƒ íš¨ê³¼ |
|------|-----------|----------|
| êµ¬ë… ì„œë¹„ìŠ¤ (Track 2) | ì¬êµ¬ë§¤ ê³ ê° 5ëª…+ ë˜ëŠ” êµ¬ë… ë¬¸ì˜ | ë¹„ìˆ˜ê¸° MRR í™•ë³´ |
| B2B ë²•ì¸ (Track 3) | 1ê±´ ì´ìƒ B2B ë¬¸ì˜ ìœ ì… | ì•ˆì • ë§¤ì¶œ |
| ë°›ëŠ” ë¶„ ë°˜ì‘ ê³µìœ  | ë°°ì†¡ ì™„ë£Œ 20ê±´+ | ë°”ì´ëŸ´ + ì¬êµ¬ë§¤ |
| Address-Later | ê³ ê° ë¬¸ì˜ "ì£¼ì†Œë¥¼ ëª¨ë¥´ê² ì–´ìš”" 3ê±´+ | ì „í™˜ìœ¨ ê°œì„  |

### ê°œë°œ í›„ë³´ (ê³ ê° í”¼ë“œë°± ê¸°ë°˜)
| ê¸°ëŠ¥ | ì„¤ëª… | ë³µì¡ë„ |
|------|------|--------|
| ì‹¤ì œ ë°°ì†¡ ì‚¬ì§„ ì „ì†¡ | ê´€ë¦¬ìê°€ ì™„ì„± ì‚¬ì§„ ì—…ë¡œë“œ â†’ ì£¼ë¬¸ìì—ê²Œ SMS | ë‚®ìŒ |
| AI ì±—ë´‡ | /chat í˜ì´ì§€ + useChat + tool use | ì¤‘ê°„ |
| ë¯¸ì…˜ ì¶”ì  (Realtime) | /track/[orderId] + Supabase Realtime | ì¤‘ê°„ |
| ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ | SMS â†’ ì•Œë¦¼í†¡ ì „í™˜ (ë¹„ìš© ì ˆê°) | ë‚®ìŒ |

---

## ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] ëª¨ë“  Supabase í…Œì´ë¸” RLS í™œì„±í™”
- [x] SUPABASE_SERVICE_ROLE_KEY ì„œë²„ë§Œ ì‚¬ìš©
- [x] ê²°ì œ ê¸ˆì•¡ ì„œë²„ ì¸¡ ê²€ì¦ (4ë‹¨ê³„)
- [x] ê´€ë¦¬ì ë¼ìš°íŠ¸ ë¯¸ë“¤ì›¨ì–´ ë³´í˜¸ (/admin/login ìŠ¤í‚µ, service role keyë¡œ admin_users í™•ì¸)
- [x] ë³´ì•ˆ í—¤ë” (X-Frame-Options, X-Content-Type-Options ë“±)
- [x] poweredByHeader ë¹„í™œì„±í™”
- [x] Supabase RLS ì‹¤ì œ í™˜ê²½ ë™ì‘ í™•ì¸ (í”„ë¡œë•ì…˜ ë°°í¬ ê²€ì¦ ì™„ë£Œ)
- [ ] AI ì—”ë“œí¬ì¸íŠ¸ rate limiting (ë°°í¬ í›„ ì ìš©)

## ê²€ì¦ ë°©ë²•

1. âœ… ë°ëª¨ ëª¨ë“œ ì „ì²´ í”Œë¡œìš° (ë¹Œë“œ + A-to-Z í…ŒìŠ¤íŠ¸ ì™„ë£Œ)
2. âœ… Vercel í”„ë¡œë•ì…˜ ë°°í¬ + Supabase ì—°ë™ ë™ì‘ í™•ì¸
3. âœ… ê´€ë¦¬ì ë¡œê·¸ì¸ + ëŒ€ì‹œë³´ë“œ + ì£¼ë¬¸/ìƒí’ˆ ê´€ë¦¬ ë™ì‘ í™•ì¸
4. ëª¨ë°”ì¼ ì‹¤ê¸°ê¸° ë¸Œë¼ìš°ì§• (iPhone Safari, Android Chrome) â† ë‹¤ìŒ ë‹¨ê³„
5. ì „ì²´ ì£¼ë¬¸ í”Œë¡œìš° (PortOne í…ŒìŠ¤íŠ¸ ëª¨ë“œ ê²°ì œ) â† PG ì—°ë™ í›„
6. ê´€ë¦¬ì ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ â†’ SMS ìˆ˜ì‹  í™•ì¸ â† Aligo ì—°ë™ í›„
7. ì‹¤ì œ ìƒí’ˆ ì‚¬ì§„ìœ¼ë¡œ ëª¨ë°”ì¼ UX í™•ì¸ â† ì‚¬ì§„ ì´¬ì˜ í›„
